<!DOCTYPE html>
<html>
<head>
    <title>Amrbose`s Accelerometer Test</title>
    <style>
        body {
            font-family: helvetica, arial, sans serif;
        }
        #sphere {
            position: absolute;
            width: 50px;
            height: 50px;
            border-radius: 50px;
            -webkit-radius: 50px;
            background-color: red;
        }
    </style>
    <style type="text/css">.y-bubble{position:absolute;  z-index:9999; margin:0; padding:10px; min-width:300px; max-width:500px; border-radius:5px; background-color:rgba(13,13,13,0.8);box-shadow:0 0 20px rgba(0,0,0,0.8);color:#fff !important;text-align:left;font-weight:300;font-size:16px;font-family:"Roboto", 'Helvetica', sans-serif;line-height:1.5}.y-bubble p{margin:2px 0;color:#fff !important;line-height:20px}.y-bubble .y-bubble-word{color:#f60}.y-bubble .y-arrow{position:absolute;width:0;height:0;border-right:10px solid transparent;border-left:10px solid transparent}.y-bubble .y-bubble-explains{margin:10px 0}.y-bubble .y-clearfix:before,.y-bubble .y-clearfix:after{display:table;content:''}.y-bubble .y-clearfix:after{clear:both}.y-bubble .y-bubble-more{margin-top:10px}.y-bubble .y-bubble-more .y-pull-left{float:left}.y-bubble .y-bubble-more .y-pull-right{float:right}.y-bubble .y-bubble-more a{color:#ffffff !important;text-decoration:none !important}.y-bubble .y-bubble-more a:hover{text-decoration:underline !important}.y-bubble .spinner{display:inline-block;position:relative;margin:0 5px;width:20px;height:20px;vertical-align:middle}.y-bubble .spinner.hide{display:none}.y-bubble .spinner .double-bounce1,.y-bubble .spinner .double-bounce2{width:100%;height:100%;border-radius:50%;background-color:#ffffff;opacity:0.6;position:absolute;top:0;left:0;-webkit-animation:sk-bounce 2.0s infinite ease-in-out;animation:sk-bounce 2.0s infinite ease-in-out}.y-bubble .spinner .double-bounce2{-webkit-animation-delay:-1.0s;animation-delay:-1.0s}@-webkit-keyframes sk-bounce{0%,100%{-webkit-transform:scale(0)}50%{-webkit-transform:scale(1)}}@keyframes sk-bounce{0%,100%{transform:scale(0);-webkit-transform:scale(0)}50%{transform:scale(1);-webkit-transform:scale(1)}}
    </style>
</head>
<body>
    <div id="content">
        <h3 align="center">Accelerometer Test</h3>
        <div id="sphere" style="top: 100px; left: 100px;"></div>
         <!--<ul>-->
              <!--&lt;!&ndash;<li>acceleration x: <span id="accelerationX"></span>g</li>&ndash;&gt;-->
              <!--&lt;!&ndash;<li>acceleration y: <span id="accelerationY"></span>g</li>&ndash;&gt;-->
              <!--&lt;!&ndash;<li>acceleration z: <span id="accelerationZ"></span>g</li>&ndash;&gt;-->
              <!--&lt;!&ndash;<li>rotation alpha: <span id="rotationAlpha"></span>degree</li>&ndash;&gt;-->
              <!--&lt;!&ndash;<li>rotation beta: <span id="rotationBeta"></span>degree</li>&ndash;&gt;-->
              <!--&lt;!&ndash;<li>rotation gamma: <span id="rotationGamma"></span>degree</li>&ndash;&gt;-->
         <!--</ul>-->
        <div><p><span id="rotationBeta"></span></p></div>

        <!--test: <span id="test"></span>-->
    </div>


    <script type="text/javascript">
        var X = 50, Y = 43,
            verticalX = 0, verticalY = 0,
            ax = 0, ay = 0;

        var sphere = document.getElementById("sphere");

        if (window.DeviceMotionEvent != undefined) {
            window.ondevicemotion = function(e) {
//                ax = event.accelerationIncludingGravity.x * 2;
//                ay = event.accelerationIncludingGravity.y * 2;
//                document.getElementById("accelerationX").innerHTML = e.accelerationIncludingGravity.x;
//                document.getElementById("accelerationY").innerHTML = e.accelerationIncludingGravity.y;
//                document.getElementById("accelerationZ").innerHTML = e.accelerationIncludingGravity.z;

                if ( e.rotationRate ) {
                    verticalY = e.rotationRate.beta;
//                    document.getElementById("rotationAlpha").innerHTML = parseInt(e.rotationRate.alpha);
                    document.getElementById("rotationBeta").innerHTML = verticalY;
//                    document.getElementById("rotationGamma").innerHTML = parseInt(e.rotationRate.gamma);
                }
            }

            setInterval( function() {
//                var landscapeOrientation = window.innerWidth/window.innerHeight > 1;
//                if ( landscapeOrientation) {
//                    vx = vx + ay;
//                    vy = vy + ax;
//                } else {
//                    vy = vy - ay;
//                    vx = vx + ax;
//                }
//                vx = vx * 0.98;
//                vy = vy * 0.98;
//                y = parseInt(y + vy / 50);
//                x = parseInt(x + vx / 50);
//                X = parseInt(Y);
                Y = Y + parseInt(verticalY / 10);

                boundingBoxCheck();

                sphere.style.top ="50%";     //px
                sphere.style.left = Y + "%";    //px

            }, 25);
        }


        function boundingBoxCheck(){
//            if (X < 0) { X = 1; }
            if (Y < 0) { Y = 1; }
//            if (x>document.documentElement.clientWidth-20) { x = document.documentElement.clientWidth-20; vx = -vx; }
//            if (y>document.documentElement.clientHeight-20) { y = document.documentElement.clientHeight-20; vy = -vy; }
//            if (X > 100) { X = 99; }
            if (Y > 95) { Y = 95; }

        }
    </script>
</body>
</html>
